(function(){var e={6700:function(e,t,a){var l={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}s.keys=function(){return Object.keys(l)},s.resolve=r,e.exports=s,s.id=6700},65:function(e,t,a){"use strict";var l=a(9963),s=a(6252);const r={id:"app"};function o(e,t){const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)("div",r,[(0,s.Wm)(a,{class:"router-view"})])}const n={};n.render=o;var i=n,d=a(2119);const m=(0,s.HX)("data-v-cc4296d2");(0,s.dD)("data-v-cc4296d2");const u={class:"login_page fillcontain"},c={class:"form_contianer"},p=(0,s.Wm)("div",{class:"manage_tip"},[(0,s.Wm)("p",null,"管理系统登录")],-1),h=(0,s.Wm)("p",{class:"welcom"},"欢迎来到慕慕生鲜后台管理系统",-1),g=(0,s.Wm)("p",{class:"welcom-tip"},"用户名imooc 密码12345678",-1),f={class:"login-item"},w=(0,s.Wm)("span",null,"用户名",-1),b={class:"login-item"},j=(0,s.Wm)("span",null,"密码",-1),v=(0,s.Uk)("登陆");(0,s.Cn)();const y=m(((e,t,a,r,o,n)=>{const i=(0,s.up)("el-input"),d=(0,s.up)("el-form-item"),y=(0,s.up)("el-button"),W=(0,s.up)("el-form");return(0,s.wg)(),(0,s.j4)("div",u,[(0,s.Wm)(l.uT,{name:"form-fade",mode:"in-out"},{default:m((()=>[(0,s.wy)((0,s.Wm)("section",c,[p,(0,s.Wm)(W,{model:o.loginForm,rules:o.rules,ref:"loginForm"},{default:m((()=>[h,g,(0,s.Wm)(d,{prop:"username"},{default:m((()=>[(0,s.Wm)("div",f,[w,(0,s.Wm)(i,{modelValue:o.loginForm.username,"onUpdate:modelValue":t[1]||(t[1]=e=>o.loginForm.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(d,{prop:"password"},{default:m((()=>[(0,s.Wm)("div",b,[j,(0,s.Wm)(i,{type:"password",placeholder:"请输入密码",modelValue:o.loginForm.password,"onUpdate:modelValue":t[2]||(t[2]=e=>o.loginForm.password=e)},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(d,null,{default:m((()=>[(0,s.Wm)(y,{type:"primary",onClick:t[3]||(t[3]=e=>n.submitForm("loginForm")),class:"submit_btn"},{default:m((()=>[v])),_:1})])),_:1})])),_:1},8,["model","rules"])],512),[[l.F8,o.showLogin]])])),_:1})])}));var W=a(9669),k=a.n(W);let _="http://127.0.0.1:8083/";function C(e){return!e||200!==e.status&&304!==e.status&&400!==e.status?{status:-404,msg:"网络异常"}:e.data}function V(e){if(-404!==e.status)if(10007!==e.status){if(9999!==e.status)return e.status,e}else window.location.href="http://127.0.0.1:8083/admin/index.html"}k().interceptors.request.use((e=>e),(e=>Promise.reject(e))),k().interceptors.response.use((e=>e),(e=>Promise.resolve(e.response))),k().defaults.withCredentials=!0;var U={post(e,t){return k()({method:"POST",baseURL:_,url:e,params:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0},{withCredentials:!0}).then((e=>C(e))).then((e=>V(e)))},get(e,t){return k()({method:"get",baseURL:_,url:e,params:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0},{withCredentials:!0}).then((e=>C(e))).then((e=>V(e)))}},S={login:"/adminLogin",logout:"/user/logout",goodList:"/admin/product/list",upDownGood:"/admin/product/batchUpdateSellStatus",adminStatics:"admin/order/statistics",getToken:"/loginWithJwt",categoryList:"/admin/category/list",categoryList2:"/category/list",categoryUpdate:"/admin/category/update",categoryAdd:"/admin/category/add",categoryDelete:"/admin/category/delete",goodAdd:"/admin/product/add",goodUpdate:"/admin/product/update",goodDelete:"/admin/product/delete",onOffLine:"/admin/product/batchUpdateSellStatus",orderList:"/admin/order/list",orderDerive:"/admin/order/delivered",orderFinish:"/order/finish"},D={data(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},showLogin:!1}},mounted(){this.showLogin=!0},computed:{},methods:{async submitForm(e){this.$refs[e].validate((async e=>{if(!e)return this.$notify.error({title:"错误",message:"请输入正确的用户名密码",offset:100}),!1;U.get(S.login,{userName:this.loginForm.username,password:this.loginForm.password}).then((e=>{1e4===e.status?(console.log("user",e.data.username),localStorage.setItem("username",e.data.username),localStorage.setItem("personalizedSignature",e.data.personalizedSignature),localStorage.setItem("role",e.data.role),this.$router.push("good")):this.$message({type:"error",message:e.msg})}))}))}}};D.render=y,D.__scopeId="data-v-cc4296d2";var x=D,z=a(3577);const P={class:"fillcontain"},N={class:"btn-wrapper"},I=(0,s.Wm)("div",{class:"page-name"},"商品管理",-1),$={class:"btn-top"},F=(0,s.Uk)("上架商品"),O=(0,s.Uk)("下架商品"),q=(0,s.Uk)("新增商品"),L={class:"table_container"},A=(0,s.Uk)("修改"),T=(0,s.Uk)("删除"),E={class:"Pagination",style:{"text-align":"left","margin-top":"10px"}},M={key:1,class:"el-icon-plus avatar-uploader-icon"},H={class:"dialog-footer"},R=(0,s.Uk)("取 消"),Y=(0,s.Uk)("确 定");function X(e,t,a,l,r,o){const n=(0,s.up)("el-button"),i=(0,s.up)("el-popconfirm"),d=(0,s.up)("el-table-column"),m=(0,s.up)("el-table"),u=(0,s.up)("el-pagination"),c=(0,s.up)("el-cascader"),p=(0,s.up)("el-form-item"),h=(0,s.up)("el-input"),g=(0,s.up)("el-upload"),f=(0,s.up)("el-form"),w=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.j4)("div",P,[(0,s.Wm)("div",N,[I,(0,s.Wm)("div",$,[r.selectedIds&&r.selectedIds.length?((0,s.wg)(),(0,s.j4)(i,{key:0,title:"请确定是否上架所选商品",onConfirm:t[1]||(t[1]=e=>o.upOffGood(1))},{reference:(0,s.w5)((()=>[(0,s.Wm)(n,{type:"success"},{default:(0,s.w5)((()=>[F])),_:1})])),_:1})):(0,s.kq)("",!0),r.selectedIds&&r.selectedIds.length?((0,s.wg)(),(0,s.j4)(i,{key:1,title:"请确定是否下架所选商品",onConfirm:t[2]||(t[2]=e=>o.upOffGood(2))},{reference:(0,s.w5)((()=>[(0,s.Wm)(n,{type:"danger"},{default:(0,s.w5)((()=>[O])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(n,{onClick:o.handleAdd,type:"primary"},{default:(0,s.w5)((()=>[q])),_:1},8,["onClick"])])]),(0,s.Wm)("div",L,[(0,s.Wm)(m,{border:"",fit:!0,ref:"multipleTable",data:r.tableData,"row-key":e=>e.index,onSelectionChange:o.handleSelectionChange,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{type:"selection",width:"55"}),(0,s.Wm)(d,{label:"ID",width:"50",prop:"id"}),(0,s.Wm)(d,{label:"图片",width:"170",prop:"image"},{default:(0,s.w5)((e=>[(0,s.Wm)("img",{style:{maxWidth:"150px",maxHeight:"150px",borderRadius:"4px"},src:e.row.image,alt:""},null,8,["src"])])),_:1}),(0,s.Wm)(d,{label:"名称",width:"150",prop:"name"}),(0,s.Wm)(d,{label:"详情",width:"170",prop:"detail"}),(0,s.Wm)(d,{label:"单价(元)",sortable:"","default-sort":{prop:"price",order:"descending"},prop:"price"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(e.row.price?e.row.price/100:null),1)])),_:1}),(0,s.Wm)(d,{label:"是否上架",prop:"status"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(1===e.row.status?"已上架":"已下架"),1)])),_:1}),(0,s.Wm)(d,{label:"库存",prop:"stock"}),(0,s.Wm)(d,{label:"创建时间",prop:"createTime"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(o.timeFormat(e.row.createTime)),1)])),_:1}),(0,s.Wm)(d,{label:"操作",prop:"status"},{default:(0,s.w5)((e=>[(0,s.Wm)(n,{onClick:t=>o.handleEdit(e.row),type:"success"},{default:(0,s.w5)((()=>[A])),_:2},1032,["onClick"]),(0,s.Wm)(i,{title:"请确定是否删除",onConfirm:t=>o.handleDelete(e.row)},{reference:(0,s.w5)((()=>[(0,s.Wm)(n,{type:"danger"},{default:(0,s.w5)((()=>[T])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data","row-key","onSelectionChange"]),(0,s.Wm)("div",E,[(0,s.Wm)(u,{onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange,"current-page":r.currentPage,"page-size":10,layout:"total, prev, pager, next",total:r.count},null,8,["onSizeChange","onCurrentChange","current-page","total"])])]),(0,s.Wm)(w,{title:r.isEdit?"编辑商品":"新增商品",modelValue:r.dialogVisible,"onUpdate:modelValue":t[9]||(t[9]=e=>r.dialogVisible=e),width:"30%"},{footer:(0,s.w5)((()=>[(0,s.Wm)("div",H,[(0,s.Wm)(n,{onClick:t[8]||(t[8]=e=>r.dialogVisible=!1)},{default:(0,s.w5)((()=>[R])),_:1}),(0,s.Wm)(n,{type:"primary",onClick:o.update},{default:(0,s.w5)((()=>[Y])),_:1},8,["onClick"])])])),default:(0,s.w5)((()=>[(0,s.Wm)(f,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{label:"商品分类"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:r.form.value,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.value=e),options:r.tree,"show-all-levels":!1,props:{expandTrigger:"hover"},onChange:o.handleChange},null,8,["modelValue","options","onChange"])])),_:1}),(0,s.Wm)(p,{label:"商品名称"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{modelValue:r.form.name,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.name=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"商品简介"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{modelValue:r.form.detail,"onUpdate:modelValue":t[5]||(t[5]=e=>r.form.detail=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"商品库存"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{modelValue:r.form.stock,"onUpdate:modelValue":t[6]||(t[6]=e=>r.form.stock=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"商品售价"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{placeholder:"请填写整数，单位为分",modelValue:r.form.price,"onUpdate:modelValue":t[7]||(t[7]=e=>r.form.price=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"商品图片"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"avatar-uploader avatar-uploader-dialog",action:"http://127.0.0.1:8083/admin/upload/file","show-file-list":!1,"on-success":o.handleAvatarSuccess,"before-upload":o.beforeAvatarUpload},{default:(0,s.w5)((()=>[r.form.imageUrl?((0,s.wg)(),(0,s.j4)("img",{key:0,src:r.form.imageUrl,class:"avatar-upload"},null,8,["src"])):((0,s.wg)(),(0,s.j4)("i",M))])),_:1},8,["on-success","before-upload"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}var G=a.p+"img/icon.777dba98.png",B=a.p+"img/people.4a6de519.png";const J={class:"header_container"},Z=(0,s.Wm)("div",{class:"header-left"},[(0,s.Wm)("img",{width:"50",src:G,alt:""}),(0,s.Wm)("a",{target:"_blank",href:"http://127.0.0.1:8083/#/index"},"慕慕生鲜")],-1),K=(0,s.Wm)("img",{width:"50",class:"avator",src:B,alt:""},null,-1),Q=(0,s.Wm)("a",{target:"_blank",href:"http://127.0.0.1:8083/#/index"},"慕慕生鲜首页",-1),ee=(0,s.Uk)("退出登陆");function te(e,t,a,l,r,o){const n=(0,s.up)("el-dropdown-item"),i=(0,s.up)("el-dropdown-menu"),d=(0,s.up)("el-dropdown");return(0,s.wg)(),(0,s.j4)("div",J,[Z,(0,s.Wm)(d,{onCommand:o.handleCommand,"menu-align":"start"},{dropdown:(0,s.w5)((()=>[(0,s.Wm)(i,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{command:"home"},{default:(0,s.w5)((()=>[Q])),_:1}),(0,s.Wm)(n,{command:"signout"},{default:(0,s.w5)((()=>[ee])),_:1})])),_:1})])),default:(0,s.w5)((()=>[K])),_:1},8,["onCommand"])])}var ae={data(){return{}},props:["text"],created(){},computed:{},methods:{async handleCommand(e){"signout"==e&&U.post(S.logout).then((e=>{1e4===e.status?(sessionStorage.setItem("token",null),window.location.href="http://127.0.0.1:8083/admin/index.html"):this.$message({type:"error",message:e.msg})}))}}};ae.render=te;var le=ae;let se="http://127.0.0.1:8083/";function re(e){return!e||200!==e.status&&304!==e.status&&400!==e.status?{status:-404,msg:"网络异常"}:e.data}function oe(e){if(-404!==e.status&&9999!==e.status)return 10007===e.status?(console.log(window.location),void(window.location.href="http://127.0.0.1:8083/admin/index.html")):(e.status,e)}k().interceptors.request.use((e=>e),(e=>Promise.reject(e))),k().interceptors.response.use((e=>e),(e=>Promise.resolve(e.response))),k().defaults.withCredentials=!0;var ne={post(e,t){return k()({method:"POST",baseURL:se,url:e,data:JSON.stringify(t),timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8"},withCredentials:!0},{withCredentials:!0}).then((e=>re(e))).then((e=>oe(e)))},get(e,t){return k()({method:"get",baseURL:se,url:e,params:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0},{withCredentials:!0}).then((e=>re(e))).then((e=>oe(e)))}},ie=a(381),de=a.n(ie),me={data(){return{dialogVisible:!1,tableData:[],count:0,currentPage:1,selectedIds:[],isEdit:!1,tree:[],form:{name:"",value:[],imageUrl:null,detail:null,stock:null,id:null,price:null}}},components:{header:le},created(){},mounted(){this.initData(),this.getCate()},methods:{handleDelete(e){ne.post(S.goodDelete+"?id="+e.id,{id:e.id}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"删除成功"}),this.initData()):this.$message({type:"error",message:e.msg})}))},handleChange(e){console.log("vvv:",e)},getCate(){U.get(S.categoryList2).then((e=>{1e4===e.status?(this.tree=e.data,this.tree.map((e=>{e.value=e.id,e.label=e.name,e.childCategory.length&&(e.children=e.childCategory,e.childCategory.map((e=>{e.value=e.id,e.label=e.name,e.childCategory.length&&(e.children=e.childCategory,e.childCategory.map((e=>{e.value=e.id,e.label=e.name})))})))}))):this.$message({type:"error",message:e.msg})}))},handleAvatarSuccess(e,t){1e4===e.status?(this.form.imageUrl=e.data,this.$message({type:"success",message:"上传成功"})):this.$message({type:"error",message:e.msg})},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t?a?t&&a:(this.$message.error("上传图片大小不能超过 2MB!"),!1):(this.$message.error("上传图片只能是 JPG 格式!"),!1)},getCascaderFullValue(e,t){let a=[t];return l(a,e,e,t),a;function l(e,t,a,s){if(Array.isArray(t))for(let r of t){if(!Array.isArray(r.children))continue;let t=r.children.findIndex((e=>e.value===s));t>=0?(e.unshift(r.value),a.findIndex((e=>e.value===r.value))<0&&l(e,a,a,r.value)):l(e,r.children,a,s)}}},handleAdd(){this.dialogVisible=!0,this.isEdit=!1,this.form.name=null,this.form.detail=null,this.form.stock=null,this.form.price=null,this.form.imageUrl=null,this.form.id=null,this.form.value=null},uploadImg(e){1e4===e.status?this.$message({type:"success",message:"上传成功"}):this.$message({type:"error",message:e.msg})},update(){console.log("form:",this.form),ne.post(`${this.isEdit?S.goodUpdate:S.goodAdd}`,{categoryId:this.form.value[this.form.value.length-1],name:this.form.name,detail:this.form.detail,stock:this.form.stock,price:this.form.price,id:this.form.id,image:this.form.imageUrl?this.form.imageUrl:null}).then((e=>{1e4===e.status?(this.dialogVisible=!1,this.initData(),this.$message({type:"success",message:""+(this.isEdit?"编辑成功":"新增成功")})):this.$message({type:"error",message:e.msg})}))},handleEdit(e){console.log("row:",e),this.isEdit=!0,this.form.name=e.name,this.form.id=e.id,this.form.value=this.getCascaderFullValue(this.tree,e.categoryId),console.log("value:",this.form.value),this.form.detail=e.detail,this.form.stock=e.stock,this.form.price=e.price,this.form.imageUrl=e.image,this.dialogVisible=!0},beforeImgUpload(e){return!0},handleDelete(e){ne.post(S.goodDelete+"?id="+e.id,{id:e.id}).then((e=>{1e4===e.status?(this.initData(),this.$message({type:"success",message:"删除成功!"})):this.$message({type:"error",message:e.msg})}))},timeFormat(e){return de()(e).format("YYYY-MM-DD HH:mm:ss")},handleSelectionChange(e){console.log("value:::",e),this.selectedIds=e},async initData(){U.get(S.goodList,{pageNum:this.currentPage,pageSize:10}).then((e=>{this.tableData=e.data.list,this.count=e.data.total}))},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,this.initData()},onSubmit(){},upOffGood(e){let t=[];this.selectedIds.map((e=>{t.push(e.id)})),1===e?U.post(S.upDownGood,{ids:t.join(","),sellStatus:1}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"上架成功!"}),this.initData()):this.$message({type:"error",message:e.msg})})):U.post(S.onOffLine,{ids:t.join(","),sellStatus:0}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"下架成功!"}),this.initData()):this.$message({type:"error",message:e.msg})}))}}};me.render=X;var ue=me;const ce={class:"manage_page fillcontain"},pe=(0,s.Wm)("i",{class:"el-icon-goods"},null,-1),he=(0,s.Uk)("商品管理"),ge=(0,s.Wm)("i",{class:"el-icon-menu"},null,-1),fe=(0,s.Uk)("分类管理"),we=(0,s.Wm)("i",{class:"el-icon-document-copy"},null,-1),be=(0,s.Uk)("订单管理"),je=(0,s.Wm)("i",{class:"el-icon-user"},null,-1),ve=(0,s.Uk)("个人信息");function ye(e,t,a,l,r,o){const n=(0,s.up)("Header"),i=(0,s.up)("el-menu-item"),d=(0,s.up)("el-menu"),m=(0,s.up)("el-col"),u=(0,s.up)("router-view"),c=(0,s.up)("el-row");return(0,s.wg)(),(0,s.j4)("div",ce,[(0,s.Wm)(n),(0,s.Wm)(c,{style:{height:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{span:4,style:{"background-color":"#324057"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{"default-active":o.defaultActive,style:{"min-height":"100%"},theme:"dark",router:""},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{index:"good"},{default:(0,s.w5)((()=>[pe,he])),_:1}),(0,s.Wm)(i,{index:"type"},{default:(0,s.w5)((()=>[ge,fe])),_:1}),(0,s.Wm)(i,{index:"order"},{default:(0,s.w5)((()=>[we,be])),_:1}),(0,s.Wm)(i,{index:"person"},{default:(0,s.w5)((()=>[je,ve])),_:1})])),_:1},8,["default-active"])])),_:1}),(0,s.Wm)(m,{span:20,style:{height:"100%",overflow:"auto"}},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,[(0,s.Wm)(u)],1024))])),_:1})])),_:1})])}var We={computed:{defaultActive:function(){return this.$route.path.replace("/","")}},components:{Header:le}};We.render=ye;var ke=We;const _e={class:"fillcontain"},Ce=(0,s.Wm)("div",{class:"btn-wrapper"},[(0,s.Wm)("div",{class:"page-name"},"订单管理")],-1),Ve={class:"table_container"},Ue={key:0},Se={key:1},De={key:2},xe={key:3},ze={key:4},Pe={class:"table-btns"},Ne=(0,s.Uk)("查看收件人信息"),Ie=(0,s.Uk)("发货"),$e=(0,s.Uk)("订单完结"),Fe={class:"Pagination",style:{"text-align":"left","margin-top":"10px"}},Oe=(0,s.Wm)("div",{class:"dialog-footer"},null,-1);function qe(e,t,a,l,r,o){const n=(0,s.up)("el-table-column"),i=(0,s.up)("el-table"),d=(0,s.up)("el-button"),m=(0,s.up)("el-popconfirm"),u=(0,s.up)("el-pagination"),c=(0,s.up)("el-input"),p=(0,s.up)("el-form-item"),h=(0,s.up)("el-form"),g=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.j4)("div",_e,[Ce,(0,s.Wm)("div",Ve,[(0,s.Wm)(i,{data:r.tableData,"row-key":e=>e.orderNo,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{type:"expand"},{default:(0,s.w5)((e=>[(0,s.Wm)(i,{data:e.row.orderItemVOList,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{label:"商品名称",prop:"productName"}),(0,s.Wm)(n,{label:"商品图片",prop:"productName"},{default:(0,s.w5)((e=>[(0,s.Wm)("img",{src:e.row.productImg,width:"50",alt:""},null,8,["src"])])),_:1}),(0,s.Wm)(n,{label:"商品单价(元)",prop:"unitPrice"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(e.row.unitPrice?e.row.unitPrice/100:null),1)])),_:1}),(0,s.Wm)(n,{label:"商品数量",prop:"quantity"}),(0,s.Wm)(n,{label:"商品总价(元)",prop:"totalPrice"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(e.row.totalPrice?e.row.totalPrice/100:null),1)])),_:1})])),_:2},1032,["data"])])),_:1}),(0,s.Wm)(n,{label:"订单号",prop:"orderNo"}),(0,s.Wm)(n,{label:"订单总价(元)",prop:"totalPrice"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(e.row.totalPrice?e.row.totalPrice/100:null),1)])),_:1}),(0,s.Wm)(n,{label:"订单状态",prop:"orderStatus"},{default:(0,s.w5)((e=>[0===e.row.orderStatus?((0,s.wg)(),(0,s.j4)("div",Ue,"用户已取消")):(0,s.kq)("",!0),10===e.row.orderStatus?((0,s.wg)(),(0,s.j4)("div",Se,"未付款")):(0,s.kq)("",!0),20===e.row.orderStatus?((0,s.wg)(),(0,s.j4)("div",De,"已付款")):(0,s.kq)("",!0),30===e.row.orderStatus?((0,s.wg)(),(0,s.j4)("div",xe,"已发货")):(0,s.kq)("",!0),40===e.row.orderStatus?((0,s.wg)(),(0,s.j4)("div",ze,"交易完成")):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(n,{label:"创建时间",prop:"createTime"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(o.timeFormat(e.row.createTime)),1)])),_:1}),(0,s.Wm)(n,{label:"操作",prop:"status"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",Pe,[(0,s.Wm)(d,{onClick:t=>o.handleEdit(e.row,!1),type:"danger"},{default:(0,s.w5)((()=>[Ne])),_:2},1032,["onClick"]),30!==e.row.orderStatus&&40!==e.row.orderStatus?((0,s.wg)(),(0,s.j4)(m,{key:0,title:"请确认是否已发货？",confirmButtonText:"是",cancelButtonText:"否",onConfirm:t=>o.startFn(e.row)},{reference:(0,s.w5)((()=>[(0,s.Wm)(d,{type:"success"},{default:(0,s.w5)((()=>[Ie])),_:1})])),_:2},1032,["onConfirm"])):(0,s.kq)("",!0),40!==e.row.orderStatus?((0,s.wg)(),(0,s.j4)(m,{key:1,confirmButtonText:"是",cancelButtonText:"否",onConfirm:t=>o.finishFn(e.row),title:"请确认订单是否已完结？"},{reference:(0,s.w5)((()=>[(0,s.Wm)(d,{type:"success"},{default:(0,s.w5)((()=>[$e])),_:1})])),_:2},1032,["onConfirm"])):(0,s.kq)("",!0)])])),_:1})])),_:1},8,["data","row-key"]),(0,s.Wm)("div",Fe,[(0,s.Wm)(u,{onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange,"current-page":r.currentPage,"page-size":10,layout:"total, prev, pager, next",total:r.count},null,8,["onSizeChange","onCurrentChange","current-page","total"])])]),(0,s.Wm)(g,{title:"详细信息",modelValue:r.dialogVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>r.dialogVisible=e),width:"30%"},{footer:(0,s.w5)((()=>[Oe])),default:(0,s.w5)((()=>[(0,s.Wm)(h,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{label:"收件人"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{disabled:"",modelValue:r.form.receiverName,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.receiverName=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"电话"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{disabled:"",modelValue:r.form.receiverMobile,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.receiverMobile=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"收件地址"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{disabled:"",modelValue:r.form.receiverAddress,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.receiverAddress=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}a(7258);var Le={data(){return{dialogVisible:!1,tableData:[],staticTrue:!1,orderData:[],count:0,currentPage:1,isOrder:!1,form:{orderNo:null,productName:null,unitPrice:null,quantity:null,totalPrice:null,receiverName:null,receiverMobile:null,receiverAddress:null}}},components:{header:le},created(){},mounted(){this.initData()},methods:{handleEdit(e,t){console.log("row:",e),this.isOrder=t,this.orderData=e.orderItemVOList,this.dialogVisible=!0,this.form.orderNo=e.orderNo,this.form.productName=e.productName,this.form.unitPrice=(e.unitPrice/100).toFixed(2),this.form.quantity=e.quantity,this.form.totalPrice=(e.totalPrice/100).toFixed(2),this.form.receiverName=e.receiverName,this.form.receiverMobile=e.receiverMobile,this.form.receiverAddress=e.receiverAddress},timeFormat(e){return de()(e).format("YYYY-MM-DD HH:mm:ss")},async initData(){U.get(S.orderList,{pageNum:this.currentPage,pageSize:10}).then((e=>{console.log("res:",e),this.tableData=e.data.list,this.count=e.data.total}))},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){},startFn(e){U.post(S.orderDerive,{orderNo:e.orderNo}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"发货成功!"}),this.initData()):this.$message({type:"error",message:e.msg})}))},finishFn(e){U.post(S.orderFinish,{orderNo:e.orderNo}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"订单成功完结!"}),this.initData()):this.$message({type:"error",message:e.msg})}))}}};Le.render=qe;var Ae=Le;const Te={class:"box-card-container"},Ee=(0,s.Wm)("div",{class:"btn-wrapper"},[(0,s.Wm)("div",{class:"page-name"},"基本信息")],-1),Me=(0,s.Wm)("div",{class:"clearfix"},[(0,s.Wm)("span",null,"基本信息")],-1);function He(e,t,a,l,r,o){const n=(0,s.up)("el-input"),i=(0,s.up)("el-form-item"),d=(0,s.up)("el-form"),m=(0,s.up)("el-card");return(0,s.wg)(),(0,s.j4)("div",Te,[Ee,(0,s.Wm)(m,{class:"box-card"},{header:(0,s.w5)((()=>[Me])),default:(0,s.w5)((()=>[(0,s.Wm)(d,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{label:"用户名"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{disabled:"",modelValue:r.form.username,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.username=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(i,{label:"个性签名"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{disabled:"",modelValue:r.form.personalizedSignature,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.personalizedSignature=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1})])}var Re={data(){return{form:{username:localStorage.getItem("username"),personalizedSignature:localStorage.getItem("personalizedSignature")}}},components:{header:le},created(){},methods:{}};Re.render=He;var Ye=Re;const Xe={class:"fillcontain"},Ge={class:"btn-wrapper"},Be=(0,s.Wm)("div",{class:"page-name"},"分类管理",-1),Je={class:"btn-top"},Ze=(0,s.Uk)("新增分类"),Ke={class:"table_container"},Qe=(0,s.Uk)("删除"),et=(0,s.Uk)("修改"),tt={class:"Pagination",style:{"text-align":"left","margin-top":"10px"}},at={class:"dialog-footer"},lt=(0,s.Uk)("取 消"),st=(0,s.Uk)("确 定");function rt(e,t,a,l,r,o){const n=(0,s.up)("el-button"),i=(0,s.up)("el-table-column"),d=(0,s.up)("el-popconfirm"),m=(0,s.up)("el-table"),u=(0,s.up)("el-pagination"),c=(0,s.up)("el-input"),p=(0,s.up)("el-form-item"),h=(0,s.up)("el-form"),g=(0,s.up)("el-dialog");return(0,s.wg)(),(0,s.j4)("div",Xe,[(0,s.Wm)("div",Ge,[Be,(0,s.Wm)("div",Je,[(0,s.Wm)(n,{onClick:o.handleAdd,type:"primary"},{default:(0,s.w5)((()=>[Ze])),_:1},8,["onClick"])])]),(0,s.Wm)("div",Ke,[(0,s.Wm)(m,{border:"",data:r.tableData,"row-key":e=>e.index,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{label:"ID",prop:"id"}),(0,s.Wm)(i,{label:"名称",prop:"name"}),(0,s.Wm)(i,{label:"排序",prop:"orderNum"}),(0,s.Wm)(i,{label:"创建时间",prop:"orderNum"},{default:(0,s.w5)((e=>[(0,s.Wm)("div",null,(0,z.zw)(o.timeFormat(e.row.createTime)),1)])),_:1}),(0,s.Wm)(i,{label:"操作",prop:"status"},{default:(0,s.w5)((e=>[(0,s.Wm)(d,{title:"请确定是否删除",onConfirm:t=>o.handleDelete(e.row)},{reference:(0,s.w5)((()=>[(0,s.Wm)(n,{type:"danger"},{default:(0,s.w5)((()=>[Qe])),_:1})])),_:2},1032,["onConfirm"]),(0,s.Wm)(n,{onClick:t=>o.handleEdit(e.row),type:"success"},{default:(0,s.w5)((()=>[et])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","row-key"]),(0,s.Wm)("div",tt,[(0,s.Wm)(u,{onCurrentChange:o.handleCurrentChange,"current-page":r.currentPage,"page-size":10,layout:"total, prev, pager, next",total:r.count},null,8,["onCurrentChange","current-page","total"])])]),(0,s.Wm)(g,{title:r.isEdit?"编辑分类":"新增分类",modelValue:r.dialogVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>r.dialogVisible=e),width:"30%"},{footer:(0,s.w5)((()=>[(0,s.Wm)("div",at,[(0,s.Wm)(n,{onClick:t[5]||(t[5]=e=>r.dialogVisible=!1)},{default:(0,s.w5)((()=>[lt])),_:1}),(0,s.Wm)(n,{type:"primary",onClick:o.update},{default:(0,s.w5)((()=>[st])),_:1},8,["onClick"])])])),default:(0,s.w5)((()=>[(0,s.Wm)(h,{ref:"form",model:r.form,"label-width":"90px"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{label:"新增分类"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:r.form.name,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.name=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"排序值"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:r.form.orderNum,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.orderNum=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"目录级别"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:r.form.type,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.type=e)},null,8,["modelValue"])])),_:1}),(0,s.Wm)(p,{label:"上级目录ID"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:r.form.parentId,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.parentId=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}var ot={data(){return{dialogVisible:!1,tableData:[],isEdit:!1,count:0,currentPage:1,form:{name:null,id:null,orderNum:null,type:null,parentId:null}}},components:{Header:le},created(){this.initData()},mounted(){},methods:{handleDelete(e){U.post(S.categoryDelete,{id:e.id}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"删除成功"}),this.initData()):this.$message({type:"error",message:e.msg})}))},update(){let e="";e=this.isEdit?S.categoryUpdate:S.categoryAdd,ne.post(e,{id:this.form.id,name:this.form.name,orderNum:this.form.orderNum,type:this.form.type,parentId:this.form.parentId}).then((e=>{1e4===e.status?(this.dialogVisible=!1,this.$message({type:"success",message:""+(this.isEdit?"编辑成功":"新增成功")}),this.initData()):this.$message({type:"error",message:e.msg})}))},handleAdd(){this.dialogVisible=!0,this.isEdit=!1,this.form.name=null,this.form.orderNum=null,this.form.type=null,this.form.id=null,this.form.parentId=null},handleEdit(e){console.log("row:",e),this.dialogVisible=!0,this.isEdit=!0,this.form.name=e.name,this.form.orderNum=e.orderNum,this.form.type=e.type,this.form.id=e.id,this.form.parentId=e.parentId},timeFormat(e){return de()(e).format("YYYY-MM-DD HH:mm:ss")},async initData(){U.get(S.categoryList,{pageNum:this.currentPage,pageSize:10}).then((e=>{this.tableData=e.data.list,this.count=e.data.total}))},handleCurrentChange(e){this.currentPage=e,this.initData()},onSubmit(){}}};ot.render=rt;var nt=ot;const it=[{path:"/",name:"login",component:x},{path:"/manage",component:ke,name:"",children:[{path:"/type",component:nt},{path:"/good",component:ue},{path:"/person",component:Ye},{path:"/order",component:Ae}]}],dt=(0,d.p7)({history:(0,d.r5)(""),routes:it});var mt=dt,ut=a(127);const ct=(0,l.ri)(i);ct.use(mt),ct.use(ut.ZP),ct.mount("#app")}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var r=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,r){if(!l){var o=1/0;for(d=0;d<e.length;d++){l=e[d][0],s=e[d][1],r=e[d][2];for(var n=!0,i=0;i<l.length;i++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(n=!1,r<o&&(o=r));n&&(e.splice(d--,1),t=s())}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p=""}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,r,o=l[0],n=l[1],i=l[2],d=0;for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(i)var m=i(a);for(t&&t(l);d<o.length;d++)r=o[d],a.o(e,r)&&e[r]&&e[r][0](),e[o[d]]=0;return a.O(m)},l=self["webpackChunkvue3_mall_admin_v2"]=self["webpackChunkvue3_mall_admin_v2"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(65)}));l=a.O(l)})();
//# sourceMappingURL=app.dd8461f8.js.map